<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detalle del Curso</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Tu CSS -->
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>

    <!-- NAVBAR -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">

            <a class="navbar-brand" href="index.html">Academia Web</a>

            <div class="ms-auto">
                <a href="cursos.html" class="btn btn-outline-light btn-sm">Volver</a>
            </div>

        </div>
    </nav>

    <!-- CONTENIDO -->
    <div class="container py-5">

        <div class="row">

            <!-- Imagen -->
            <div class="col-md-5">
                <img id="cursoImagen" src="media/imagenes/curso1.jpg" alt="Curso" class="img-fluid rounded shadow-sm">
            </div>

            <!-- Información -->
            <div class="col-md-7">

                <h2 id="cursoTitulo" class="fw-bold mb-3">Título del curso</h2>

                <p id="cursoDescripcion" class="mb-4">
                    Descripción del curso. Esta sección se reemplaza dinámicamente.
                </p>

                <button id="btnInscribir" class="btn btn-primary btn-lg w-100">
                    Inscribirme en este curso
                </button>

                <div id="alertaCurso" class="mt-3"></div>

            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Tu JS -->
    <script src="js/app.js"></script>
    <script>
        // ===============================
        // CONFIG DE CURSO SELECCIONADO
        // ===============================

        const params = new URLSearchParams(window.location.search);
        const cursoID = params.get("id"); // ej: curso-detalle.html?id=python

        const cursosData = {
            python: {
                titulo: "Introducción a Python",
                descripcion: "Aprende los fundamentos de Python, desde variables hasta estructuras avanzadas.",
                imagen: "curso1.jpg"
            },
            web: {
                titulo: "Desarrollo Web Full Stack",
                descripcion: "HTML, CSS, JavaScript, backend, bases de datos y despliegue.",
                imagen: "curso2.jpg"
            },
            ciberseguridad: {
                titulo: "Fundamentos de Ciberseguridad",
                descripcion: "Aprende a proteger sistemas, detectar vulnerabilidades y aplicar buenas prácticas.",
                imagen: "curso3.jpg"
            }
        };

        // Si el ID no existe, fallback a Python
        const curso = cursosData[cursoID] || cursosData.python;

        document.getElementById("cursoTitulo").textContent = curso.titulo;
        document.getElementById("cursoDescripcion").textContent = curso.descripcion;
        document.getElementById("cursoImagen").src = "media/imagenes/" + curso.imagen;

        // =====================================================
        // INSCRIPCIÓN AL CURSO (usa localStorage)
        // =====================================================

        document.getElementById("btnInscribir").addEventListener("click", () => {

            const guardados = JSON.parse(localStorage.getItem("cursosInscritos")) || [];

            if (guardados.includes(cursoID)) {
                mostrarMensaje("Ya estás inscrito en este curso.", "warning");
                return;
            }

            guardados.push(cursoID);
            localStorage.setItem("cursosInscritos", JSON.stringify(guardados));

            mostrarMensaje("Te has inscrito correctamente.", "success");
        });

        function mostrarMensaje(msg, tipo) {
            const alerta = document.getElementById("alertaCurso");
            alerta.innerHTML = `
                <div class="alert alert-${tipo}">${msg}</div>
            `;
        }
    </script>

</body>
</html>
